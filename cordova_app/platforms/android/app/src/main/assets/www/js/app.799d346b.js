(function(e){function t(t){for(var i,o,s=t[0],c=t[1],l=t[2],f=0,d=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0341":function(e,t,n){"use strict";var i=n("38a5"),r=n.n(i);r.a},"0825":function(e){e.exports=JSON.parse('{"title":"Specie invasive - ALIEM","showMenu":"Visualizzare il menu","drawer":{"home":"Accoglienza","news":"Notizie","consult":"Carte delle specie","report":"Segnala una specie","identify":"Identificare una specie","profile":"Mio profilo","settings":"Impostazioni"},"news":{},"consult":{},"report":{"form":{"speciesField":"Specie","speciesWarning":"È richiesta una specie","descField":"Descrizione","picField":"Foto","picWarning":"È richiesta una foto","takePhotoButton":"Scatta una foto","sendButton":"Invia","resetButton":"Cancellare"},"pos":{"positionNotAvailable":"Posizione non possibile, attivare la geolocalizzazione","title":"Posizione"}},"identify":{},"profile":{},"settings":{},"error":"Non sono state scattate foto"}')},"236f":function(e,t,n){"use strict";var i=n("e042"),r=n.n(i);r.a},"38a5":function(e,t,n){},"49f8":function(e,t,n){var i={"./fr.json":"f693","./it.json":"0825"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id="49f8"},"56d7":function(e,t,n){"use strict";n.r(t);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var i=n("2b0e"),r=n("ce5b"),a=n.n(r),o=(n("5363"),n("bf40"),n("d5e8"),n("d1e7"),new a.a({icons:{iconfont:"mdi"}}));i["default"].use(a.a,o);var s=o,c=n("8758"),l=n.n(c);i["default"].use(l.a);var u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{toolbar:""}},[n("myToolbar"),n("v-content",[n("v-slide-y-transition",{attrs:{mode:"out-in"}},[n("v-container",{attrs:{"pa-0":"",fluid:"","align-content-center":"","align-center":""}},[n("router-view")],1)],1)],1)],1)},f=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("myContentDrawer")],1),n("v-app-bar",{staticClass:"indigo",attrs:{"clipped-left":"",app:""}},[n("v-app-bar-nav-icon",{attrs:{dark:""},on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{staticClass:"white--text",on:{click:e.goHome}},[e._v(e._s(e.$t("drawer."+e.$route.name)))])],1)],1)},p=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-toolbar",{staticClass:"indigo",attrs:{flat:""}}),e._l(e.items,function(t,i){return n("v-list-item",{key:"item_"+i,attrs:{to:t.action}},[n("v-list-item-icon",[n("v-icon",{attrs:{outlined:""},domProps:{textContent:e._s(t.icon)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)})],2)},m=[],v={name:"drawer",data:function(){return{}},computed:{items:function(){return[{icon:"home",text:this.$t("drawer.home"),action:"/"},{icon:"description",text:this.$t("drawer.news"),action:"news"},{icon:"find_in_page",text:this.$t("drawer.consult"),action:"consult"},{icon:"linked_camera",text:this.$t("drawer.report"),action:"report"},{icon:"image_search",text:this.$t("drawer.identify"),action:"identify"},{icon:"person",text:this.$t("drawer.profile"),action:"profile"},{icon:"settings",text:this.$t("drawer.settings"),action:"settings"}]}}},g=v,b=n("2877"),x=Object(b["a"])(g,h,m,!1,null,null,null),w=x.exports,y={name:"myToolbar",components:{myContentDrawer:w},data:function(){return{drawer:!1}},mounted:function(){document.addEventListener("toggleDrawer",this.toggleDrawer)},beforeDestroy:function(){document.removeEventListener("toggleDrawer",this.toggleDrawer)},methods:{toggleDrawer:function(){this.drawer=!this.drawer},goHome:function(){window.location.hash="/"}}},_=y,C=Object(b["a"])(_,d,p,!1,null,null,null),P=C.exports,k={name:"app",components:{myToolbar:P}},$=k,O=Object(b["a"])($,u,f,!1,null,null,null),S=O.exports,j=n("8c4f"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"text-center":""}},[n("div",{staticClass:"home"},[n("img",{staticClass:"logo",attrs:{src:"aliemLogo.jpg"}}),n("img",{staticClass:"logo",attrs:{src:"arobaseLogo.png"}}),n("h4",[e._v(e._s(e.$t("title")))]),n("v-btn",{staticClass:"mt-10",on:{click:e.openMenu}},[e._v(e._s(e.$t("showMenu")))])],1)])},L=[],D={name:"home",methods:{openMenu:function(){document.dispatchEvent(new CustomEvent("toggleDrawer",{}))}}},M=D,F=(n("236f"),Object(b["a"])(M,E,L,!1,null,"c1440656",null)),N=F.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-flex",e._l(e.articles,function(t){return n("div",{key:t.id},[n("v-card",{staticClass:"mb-6 mt-2"},[n("v-img",{attrs:{height:"200px",src:t.image}}),n("v-card-title",[n("span",[e._v(e._s(t.title))])]),n("v-card-text",[e._v("\n          "+e._s(e._f("truncate")(t.description,130))+"\n        ")]),n("v-card-actions",[n("v-chip",{staticClass:"white--text",attrs:{small:"",color:"secondary"}},[e._v("\n            "+e._s(e.formatDate(t.date))+"\n          ")]),n("v-spacer"),n("v-btn",{staticClass:"white--text",attrs:{small:"",replace:"",color:"indigo",href:t.url}},[e._v("Voir plus")])],1)],1)],1)}),0)],1)},z=[],I=n("bc3a"),T={name:"news",data:function(){return{articles:null}},mounted:function(){var e=this;I.get("http://aliem.arobase.corsica/json_cal_news.php").then(function(t){return e.articles=t.data.news})},methods:{formatDate:function(e){var t=1e3*e,n=new Date(t),i=n.toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"});return i}}},B=T,q=Object(b["a"])(B,A,z,!1,null,null,null),J=q.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{dense:""}},e._l(e.fiches,function(t){return n("v-col",{key:t.id,attrs:{cols:t.flex}},[n("v-card",{on:{click:function(n){return e.cardClick(t)}}},[n("v-img",{staticClass:"white--text align-end",attrs:{src:t.src,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200px"}},[n("v-card-title",{domProps:{textContent:e._s(t.name)}})],1)],1)],1)}),1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.displayCard,callback:function(t){e.displayCard=t},expression:"displayCard"}},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400"}},[n("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",src:e.ficheSrc}},[n("v-card-title",[e._v(" "+e._s(e.ficheName))])],1),n("v-card-text",{staticClass:"font-italic text-right mb-n6"},[e._v(e._s(e.ficheSpecie))]),n("v-card-text",{staticClass:"text--primary text-justify"},[n("div",{staticClass:"title indigo--text"},[e._v("Clé d'identification")]),e._v("\n        "+e._s(e.ficheIdText)+"\n      ")]),n("v-card-actions",[n("v-btn",{attrs:{color:"indigo",text:""},on:{click:function(t){return e.$router.push({name:"report",params:{ficheName:e.ficheName}})}}},[e._v("\n          Signaler\n        ")])],1)],1)],1)],1)},H=[],R=n("a34a"),Q=n.n(R),U=n("2dc8"),V=n("0a51");function G(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function K(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){G(a,i,r,o,s,"next",e)}function s(e){G(a,i,r,o,s,"throw",e)}o(void 0)})}}var X=n("bc3a"),Y={name:"consult",data:function(){return{displayCard:!1,showOperationStatus:!1,operationStatus:"",fiches:[],ficheName:"",ficheSrc:"",ficheSpecie:"",ficheIdText:""}},mounted:function(){var e=this;document.addEventListener("undefined"!==typeof cordova?"deviceready":"DOMContentLoaded",function(){var t=[{key:"id",type:"int",props:["pk","ai"]},{key:"name",type:"string"},{key:"src",type:"string"},{key:"specie",type:"string"},{key:"idText",type:"string"},{key:"flex",type:"int"}];Object(U["nSQL"])("fichedb").config({mode:Object(V["getMode"])()}).model(t).connect(),Object(U["nSQL"])().onConnected(function(){e.refreshData()})},this.loadJson())},methods:{refreshData:function(){var e=K(Q.a.mark(function e(){var t;return Q.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(U["nSQL"])("fichedb").query("select").exec();case 2:t=e.sent,0==t.length?this.fiches=[]:this.fiches=t;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadJson:function(){var e=this;X.get("fiches_especes.json",{}).then(function(t){Object(U["nSQL"])().loadJS("fichedb",t.data,!1).then(function(){e.refreshData().then(function(){e.showOperationStatus=!0,e.operationStatus="JSON loaded"})})})},cardClick:function(e){this.ficheName=e.name,this.ficheSrc=e.src,this.ficheSpecie=e.specie,this.ficheIdText=e.idText,this.displayCard=!0}}},Z=Y,ee=Object(b["a"])(Z,W,H,!1,null,null,null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"text-center":""}},[n("v-form",{ref:"form",staticClass:"pa-4 pt-6",model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("v-autocomplete",{staticStyle:{"min-height":"96px"},attrs:{items:e.items,rules:[function(t){return!!t||e.$t("report.form.speciesWarning")}],outlined:"",color:"indigo",label:e.$t("report.form.speciesField"),"prepend-icon":"pets",required:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}),n("v-textarea",{staticStyle:{"min-height":"96px"},attrs:{"auto-grow":"",outlined:"",color:"indigo",label:e.$t("report.form.descField"),rows:"1","prepend-icon":"description"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),n("v-text-field",{staticStyle:{"min-height":"96px"},attrs:{outlined:"",color:"indigo",label:e.$t("report.form.picField"),rules:[function(t){return!!t||e.$t("report.form.picWarning")}],"prepend-icon":"camera_alt"},model:{value:e.imagePath,callback:function(t){e.imagePath=t},expression:"imagePath"}}),""!==e.imagePath?n("img",{attrs:{src:e.imagePath}}):e._e(),n("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"indigo"},on:{click:e.takePicture}},[n("v-icon",{attrs:{left:""}},[e._v("add_a_photo")]),e._v(e._s(e.$t("report.form.takePhotoButton")))],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{staticClass:"white--text",attrs:{disabled:!e.form,loading:e.isLoading,color:"success",depressed:""},on:{click:e.sendForm}},[e._v(e._s(e.$t("report.form.sendButton")))]),n("v-spacer"),n("v-btn",{attrs:{text:"",color:"error"},on:{click:function(t){return e.$refs.form.reset()}}},[e._v("\n      "+e._s(e.$t("report.form.resetButton"))+"\n    ")])],1)],1)},ie=[],re=function(e,t){navigator.notification?navigator.notification.alert(e,function(){},t,"Ok"):alert(e)},ae={name:"report",data:function(){return{select:null,description:"",imagePath:"",items:["Acrothamne de Preiss","Flocon pédonculé blanc","Algue à crochets","Algue chevelue rouge","Crabe bleu américain","Raisin de mer","Caulerpe à feuilles d’if","Algue chou-fleur","Huître creuse","Poisson flûte","Poisson ballon","Lophocladia lallemendii","Microcosmus squamiger","Méduse américaine","Ostréopsis","Blennie pilicorne","Crabe plat des oursins","Huître perlière rayée","Serpenton à selles","Rascasse volante de l’océan Indien","Sargasse japonaise","Poisson-lapin à queue tronquée","Poisson-lapin à ventre strié ","Ascidie blanche plissée","Poisson pierre commun ","Womersleyelle sétacée"],form:!1,isLoading:!1}},mounted:function(){null!=this.$route.params.ficheName&&(this.select=this.$route.params.ficheName)},methods:{takePicture:function(){navigator.camera?navigator.camera.getPicture(this.setPicture,this.error,{}):this.error()},setPicture:function(e){this.imagePath=e},error:function(){re(this.$t("error"))},locError:function(){re(this.$t("report.pos.positionNotAvailable"),this.$t("report.pos.title"))},validate:function(){this.$refs.form.validate()},reset:function(){this.imagePath="",this.$refs.form.reset()},sendForm:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.successLoc,this.locError,{enableHighAccuracy:!0,timeout:3e3}):this.locError()},successLoc:function(e){re("Espèce : "+this.select+"\nDescription : "+this.description+"\nPhoto : "+this.imagePath+"\nLatitude : "+e.coords.latitude+"\nLongitude : "+e.coords.longitude,this.$t("report.pos.title"))}}},oe=ae,se=(n("0341"),Object(b["a"])(oe,ne,ie,!1,null,"eb6fb680",null)),ce=se.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"text-center":""}},[n("v-btn",[e._v("Identifier")])],1)},ue=[],fe={name:"identify",methods:{}},de=fe,pe=Object(b["a"])(de,le,ue,!1,null,null,null),he=pe.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"text-center":""}},[n("v-btn",[e._v("Mon Profil")])],1)},ve=[],ge={name:"profile",methods:{}},be=ge,xe=Object(b["a"])(be,me,ve,!1,null,null,null),we=xe.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"text-center":""}},[n("v-btn",{staticClass:"btnLangFrance mx-6",attrs:{depressed:"",height:"64px",width:"64px"},on:{click:function(t){return e.swapLanguage("fr")}}},[n("v-img",{attrs:{contain:"",height:"64px",width:"64px",src:e.images.france}})],1),n("v-btn",{staticClass:"btnLangItaly mx-6",attrs:{depressed:"",height:"64px",width:"64px"},on:{click:function(t){return e.swapLanguage("it")}}},[n("v-img",{attrs:{contain:"",height:"64px",width:"64px",src:e.images.italy}})],1)],1)},_e=[],Ce={name:"settings",data:function(){return{images:{france:n("f938"),italy:n("7092")}}},methods:{swapLanguage:function(e){this.$i18n.locale!==e&&(this.$i18n.locale=e)}}},Pe=Ce,ke=Object(b["a"])(Pe,ye,_e,!1,null,null,null),$e=ke.exports;i["default"].use(j["a"]);var Oe=new j["a"]({routes:[{path:"/",name:"home",component:N},{path:"/consult",name:"consult",component:te},{path:"/news",name:"news",component:J},{path:"/identify",name:"identify",component:he},{path:"/report/",name:"report",component:ce},{path:"/report/:ficheName",name:"report",component:ce},{path:"/profile",name:"profile",component:we},{path:"/settings",name:"settings",component:$e}]}),Se=n("a925");function je(){var e=n("49f8"),t={};return e.keys().forEach(function(n){var i=n.match(/([a-z0-9]+)\./i);if(i&&i.length>1){var r=i[1];t[r]=e(n)}}),t}i["default"].use(Se["a"]);var Ee=new Se["a"]({locale:"fr",fallbackLocale:"en",messages:je()});i["default"].config.productionTip=!1;var Le=function(){new i["default"]({vuetify:s,router:Oe,i18n:Ee,render:function(e){return e(S)}}).$mount("#app")};document.addEventListener("deviceready",function(){console.log("Ready, Render the App"),Le()});var De="undefined"!==typeof window.cordova;De||document.dispatchEvent(new CustomEvent("deviceready",{})),i["default"].filter("truncate",function(e,t){return e.length>t&&(e=e.substring(0,t-3)+"..."),e})},7092:function(e,t,n){e.exports=n.p+"img/squareItaly.a8650b8e.png"},e042:function(e,t,n){},f693:function(e){e.exports=JSON.parse('{"title":"Espèces invasives - ALIEM","showMenu":"Afficher le menu","drawer":{"home":"Accueil","news":"Actualités","consult":"Fiches Espèces","report":"Signaler une espèce","identify":"Identifier une espèce","profile":"Mon Profil","settings":"Paramètres"},"news":{},"consult":{},"report":{"form":{"speciesField":"Espèce","speciesWarning":"Une espèce est requise","descField":"Description","picField":"Photo","picWarning":"Une photo est requise","takePhotoButton":"Prendre une photo","sendButton":"Envoyer","resetButton":"Effacer"},"pos":{"positionNotAvailable":"Localisation impossible, veuillez activer la geolocalisation","title":"Localisation"}},"identify":{},"profile":{},"settings":{},"error":"Aucune photo n\'a été prise"}')},f938:function(e,t,n){e.exports=n.p+"img/squareFrance.e8309c0b.png"}});
//# sourceMappingURL=app.799d346b.js.map